# Socialgram - Instagram-like Social Media Platform

A full-stack social media platform built with React, Express.js, PostgreSQL, and real-time features.

## Features

### ğŸ” Authentication
- Secure authentication using Replit Auth
- Login with Google, GitHub, X (Twitter), Apple, or email/password
- Protected routes and authentication middleware

### ğŸ‘¤ User Features
- User profiles with bio, profile photo, and stats
- Follow and unfollow users
- Edit profile information and photo
- View other user profiles
- Followers and following counts

### ğŸ“ Posts
- Create posts with images and captions
- Edit and delete your own posts
- Like and unlike posts
- Comment on posts
- View likes and comments count
- Image upload via Cloudinary

### ğŸ  Feed & Explore
- Homepage feed showing posts from followed users
- Explore page with all posts
- Search functionality for users and posts
- Beautiful Instagram-style grid layout

### ğŸ’¬ Real-time Chat
- One-to-one messaging using WebSocket (Socket.IO)
- Real-time message delivery
- Chat history persistence
- Online/offline status indicators
- Unread message counts

### ğŸ”” Notifications
- Real-time notifications for likes, comments, and follows
- Notification badges
- Stored in PostgreSQL database

## Tech Stack

### Frontend
- **React** - UI library
- **Wouter** - Lightweight routing
- **TanStack Query** - Data fetching and caching
- **Tailwind CSS** - Styling
- **Shadcn/ui** - UI components
- **TypeScript** - Type safety

### Backend
- **Node.js** - Runtime
- **Express.js** - Web framework
- **PostgreSQL** (Neon) - Database
- **Drizzle ORM** - Database ORM
- **Replit Auth** - Authentication (OpenID Connect)
- **WebSocket (ws)** - Real-time messaging
- **Cloudinary** - Image storage
- **TypeScript** - Type safety

## Setup Instructions

### Prerequisites
- Node.js 20+ installed
- PostgreSQL database
- Cloudinary account for image uploads

### Environment Variables

The following environment variables are already configured in this Replit:

```env
# Database (Auto-configured)
DATABASE_URL=<your-postgres-connection-string>
PGHOST=<postgres-host>
PGPORT=<postgres-port>
PGDATABASE=<database-name>
PGUSER=<postgres-user>
PGPASSWORD=<postgres-password>

# Authentication (Auto-configured by Replit)
SESSION_SECRET=<auto-generated>
ISSUER_URL=https://replit.com/oidc
REPL_ID=<auto-configured>

# Cloudinary (Already configured)
CLOUDINARY_CLOUD_NAME=dwbacgefp
CLOUDINARY_API_KEY=787496116781526
CLOUDINARY_API_SECRET=<configured>
VITE_CLOUDINARY_CLOUD_NAME=dwbacgefp
```

### Local Development

1. **Install dependencies:**
   ```bash
   npm install
   ```

2. **Set up the database:**
   ```bash
   npm run db:push
   ```

3. **Start the development server:**
   ```bash
   npm run dev
   ```

   The application will be available at `http://localhost:5000`

### Production Build

1. **Build the frontend:**
   ```bash
   npm run build
   ```

2. **Start the production server:**
   ```bash
   npm start
   ```

## Project Structure

```
root/
â”œâ”€â”€ client/                 # React frontend
â”‚   â”œâ”€â”€ public/            # Static assets
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # React components
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/       # Shadcn UI components
â”‚   â”‚   â”‚   â”œâ”€â”€ Navbar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PostCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CreatePostModal.tsx
â”‚   â”‚   â”‚   â””â”€â”€ EditProfileModal.tsx
â”‚   â”‚   â”œâ”€â”€ hooks/        # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ lib/          # Utilities
â”‚   â”‚   â”œâ”€â”€ pages/        # Page components
â”‚   â”‚   â”‚   â”œâ”€â”€ Landing.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Explore.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Profile.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Messages.tsx
â”‚   â”‚   â”œâ”€â”€ App.tsx       # Main app component
â”‚   â”‚   â””â”€â”€ index.css     # Global styles
â”‚   â””â”€â”€ index.html        # HTML template
â”œâ”€â”€ server/                # Express backend
â”‚   â”œâ”€â”€ db.ts             # Database connection
â”‚   â”œâ”€â”€ storage.ts        # Data access layer
â”‚   â”œâ”€â”€ routes.ts         # API routes
â”‚   â”œâ”€â”€ replitAuth.ts     # Authentication setup
â”‚   â”œâ”€â”€ app.ts            # Express app setup
â”‚   â”œâ”€â”€ index-dev.ts      # Development entry
â”‚   â””â”€â”€ index-prod.ts     # Production entry
â”œâ”€â”€ shared/               # Shared types and schemas
â”‚   â””â”€â”€ schema.ts         # Database schema & types
â”œâ”€â”€ package.json          # Dependencies
â”œâ”€â”€ drizzle.config.ts     # Drizzle ORM config
â”œâ”€â”€ tailwind.config.ts    # Tailwind CSS config
â””â”€â”€ vite.config.ts        # Vite bundler config
```

## API Endpoints

### Authentication
- `GET /api/login` - Initiate login flow
- `GET /api/callback` - OAuth callback
- `GET /api/logout` - Logout user
- `GET /api/auth/user` - Get current user

### Posts
- `POST /api/posts` - Create a new post
- `GET /api/posts?userId=<id>` - Get posts (optionally filtered by user)
- `GET /api/feed` - Get posts from followed users
- `GET /api/explore?q=<query>` - Search posts
- `DELETE /api/posts/:postId` - Delete a post

### Comments & Likes
- `POST /api/posts/:postId/comments` - Add comment
- `POST /api/posts/:postId/like` - Like a post
- `DELETE /api/posts/:postId/like` - Unlike a post

### Social
- `POST /api/users/:userId/follow` - Follow a user
- `DELETE /api/users/:userId/follow` - Unfollow a user
- `GET /api/profile/:userId` - Get user profile
- `PATCH /api/profile` - Update own profile

### Messages
- `POST /api/messages` - Send a message
- `GET /api/messages/:userId` - Get messages with a user
- `GET /api/conversations` - Get all conversations

### Notifications
- `GET /api/notifications` - Get notifications
- `PATCH /api/notifications/:id/read` - Mark as read

### Uploads
- `POST /api/upload` - Upload image to Cloudinary

## Deployment

### Deploy to Replit

This application is ready to deploy on Replit:

1. The application automatically runs on port 5000
2. Database is already provisioned
3. Authentication is pre-configured
4. Click "Publish" in Replit to deploy

### Deploy to Other Platforms

**Frontend:** Vercel, Netlify, Cloudflare Pages
**Backend:** Railway, Render, Heroku, AWS
**Database:** Neon, Supabase, Railway PostgreSQL

## Features Roadmap

Future enhancements could include:
- Stories with 24-hour expiration
- Hashtag system with trending tags
- Group chat functionality
- Advanced notification settings
- Post bookmarking and collections

## License

MIT License - feel free to use this project for learning or building your own social platform!

## Support

For issues or questions, please open an issue on the repository.
